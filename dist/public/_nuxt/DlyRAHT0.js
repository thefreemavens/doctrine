import{bX as Q,bY as U,G as q,aD as W,w as $,N as E,v as _,b9 as z,av as F,bZ as D,b_ as N,b$ as X,as as A,aX as Z,c0 as G,b8 as K,c1 as J,aQ as H,c2 as j,c3 as Y,c4 as ee,c5 as te,bQ as re,o as R,e as O,a4 as v,q as x,aA as oe,aB as se,f as I,s as T,B,m as ne,c as C,d as ie,p as L,a as ae,am as ce,ap as le}from"./w1hxH6Fm.js";function ue(t={}){const o=[];let a=-1;const e=(r=!1)=>({get(i,c,u){if(!r){const d=Reflect.get(i,c,u);if(typeof d<"u")return d;a++,o[a]=[]}return o[a].push({type:"get",key:c}),new Proxy(()=>{},e(!0))},apply(i,c,u){o[a].push({type:"apply",key:"",args:u})}});return{proxy:new Proxy(t||{},e()),stack:o}}function de(t){const o={get(a,e,r){const i=Reflect.get(a,e,r);return typeof i=="object"?new Proxy(i,o):i},apply(a,e,r){Reflect.apply(a,e,r)}};return new Proxy(t,o)}function pe(t,o){o.forEach(a=>{let e=t,r=t;a.forEach(({type:i,key:c,args:u})=>{i==="get"?(r=e,e=e[c]):i==="apply"&&(e=e.call(r,...u))})})}function fe(t){return t.key||t.src||(typeof t.innerHTML=="string"?t.innerHTML:"")}const ge=["preconnect","dns-prefetch"];function ye(t,o,a){const e=typeof o=="string"?{src:o}:o,r=a||{},i=fe(e),c=t._scripts?.[i];if(c)return c.setupTriggerHandler(r.trigger),c;r.beforeInit?.();const u=n=>{s.status=n,t.hooks.callHook("script:updated",h)};Q.forEach(n=>{const l=n,f=typeof e[l]=="function"?e[l].bind(r.eventContext):null;e[l]=y=>{u(n==="onload"?"loaded":n==="onerror"?"error":"loading"),f?.(y)}});const d={loaded:[],error:[]},p=new Set,g=(n,l,f)=>{if(!t.ssr){if(f?.key){const y=`${f?.key}:${f.key}`;if(p.has(y))return;p.add(y)}if(d[n]){const y=d[n].push(l);return()=>d[n]?.splice(y-1,1)}return l(s.instance),()=>{}}},w=new Promise(n=>{if(t.ssr)return;const l=y=>requestAnimationFrame(()=>n(y)),f=t.hooks.hook("script:updated",({script:y})=>{const b=y.status;if(y.id===i&&(b==="loaded"||b==="error")){if(b==="loaded")if(typeof r.use=="function"){const P=r.use();P&&l(P)}else l({});else b==="error"&&n(!1);f()}})}),s={_loadPromise:w,instance:!t.ssr&&r?.use?.()||null,proxy:null,id:i,status:"awaitingLoad",remove(){return s._triggerAbortController?.abort(),s._triggerPromises=[],s._warmupEl?.dispose(),s.entry?(s.entry.dispose(),s.entry=void 0,u("removed"),delete t._scripts?.[i],!0):!1},warmup(n){const{src:l}=e,f=!l.startsWith("/")||l.startsWith("//"),y=n&&ge.includes(n);let b=l;if(!n||y&&!f)return;if(y){const m=new URL(l);b=`${m.protocol}//${m.host}`}const P={href:b,rel:n,crossorigin:typeof e.crossorigin<"u"?e.crossorigin:f?"anonymous":void 0,referrerpolicy:typeof e.referrerpolicy<"u"?e.referrerpolicy:f?"no-referrer":void 0,fetchpriority:typeof e.fetchpriority<"u"?e.fetchpriority:"low",integrity:e.integrity,as:n==="preload"?"script":void 0};return s._warmupEl=t.push({link:[P]},{head:t,tagPriority:"high"}),s._warmupEl},load(n){if(s._triggerAbortController?.abort(),s._triggerPromises=[],!s.entry){u("loading");const l={defer:!0,fetchpriority:"low"};e.src&&(e.src.startsWith("http")||e.src.startsWith("//"))&&(l.crossorigin="anonymous",l.referrerpolicy="no-referrer"),s.entry=t.push({script:[{...l,...e}]},r)}return n&&g("loaded",n),w},onLoaded(n,l){return g("loaded",n,l)},onError(n,l){return g("error",n,l)},setupTriggerHandler(n){if(s.status==="awaitingLoad")if((typeof n>"u"||n==="client")&&!t.ssr||n==="server")s.load();else if(n instanceof Promise){if(t.ssr)return;s._triggerAbortController||(s._triggerAbortController=new AbortController,s._triggerAbortPromise=new Promise(f=>{s._triggerAbortController.signal.addEventListener("abort",()=>{s._triggerAbortController=null,f()})})),s._triggerPromises=s._triggerPromises||[];const l=s._triggerPromises.push(Promise.race([n.then(f=>typeof f>"u"||f?s.load:void 0),s._triggerAbortPromise]).catch(()=>{}).then(f=>{f?.()}).finally(()=>{s._triggerPromises?.splice(l,1)}))}else typeof n=="function"&&n(s.load)},_cbs:d};w.then(n=>{n!==!1?(s.instance=n,d.loaded?.forEach(l=>l(n)),d.loaded=null):(d.error?.forEach(l=>l()),d.error=null)});const h={script:s};if(s.setupTriggerHandler(r.trigger),r.use){const{proxy:n,stack:l}=ue(t.ssr?{}:r.use()||{});s.proxy=n,s.onLoaded(f=>{pe(f,l),s.proxy=de(f)})}return!r.warmupStrategy&&(typeof r.trigger>"u"||r.trigger==="client")&&(r.warmupStrategy="preload"),r.warmupStrategy&&s.warmup(r.warmupStrategy),t._scripts=Object.assign(t._scripts||{},{[i]:s}),s}function me(t,o){if(!o)return;const a=(e,r)=>{if(!t._cbs[e])return r(t.instance),()=>{};let i=t._cbs[e].push(r);const c=()=>{i&&(t._cbs[e]?.splice(i-1,1),i=null)};return E(c),c};t.onLoaded=e=>a("loaded",e),t.onError=e=>a("error",e),E(()=>{t._triggerAbortController?.abort()})}function he(t,o){const a=typeof t=="string"?{src:t}:t,e=o||{},r=e?.head||U();e.head=r;const i=z();if(e.eventContext=i,i&&typeof e.trigger>"u")e.trigger=q;else if(W(e.trigger)){const u=e.trigger;let d;e.trigger=new Promise(p=>{d=$(u,g=>{g&&p(!0)},{immediate:!0}),E(()=>p(!1),!0)}).then(p=>(d?.(),p))}r._scriptStatusWatcher=r._scriptStatusWatcher||r.hooks.hook("script:updated",({script:u})=>{u._statusRef.value=u.status});const c=ye(r,a,e);return c._statusRef=c._statusRef||_(c.status),me(c,i),new Proxy(c,{get(u,d,p){return Reflect.get(u,d==="status"?"_statusRef":d,p)}})}function be(t){let o;return new Promise(a=>{o=X(t,e=>{for(const r of e)r.isIntersecting&&a(!0)},{rootMargin:"30px 0px 0px 0px",threshold:0}),N(()=>a(!1))}).finally(()=>{o.stop()})}function we(t){const{el:o,trigger:a}=t,e=(Array.isArray(t.trigger)?t.trigger:[t.trigger]).filter(Boolean);if(!a||e.includes("immediate")||e.includes("onNuxtReady"))return"onNuxtReady";if(e.some(c=>["visibility","visible"].includes(c)))return o?be(o):new Promise(()=>{});const r={},i=new Promise(c=>{const u=typeof o<"u"?o:document.body,d=F(u,e,()=>{d(),c(!0)},{once:!0,passive:!0});D(()=>{$(u,p=>{p&&e.forEach(g=>{p.dataset[`script_${g}`]&&(d(),c(!0))})},{immediate:!0})}),N(()=>c(!1))});return Object.assign(i,{ssrAttrs:r})}function ve(t){return null}function _e(){return H().public["nuxt-scripts"]}function Pe(t){return t.key||t.src||(typeof t.innerHTML=="string"?t.innerHTML:"")}function ke(t,o){t=typeof t=="string"?{src:t}:t,o=A(o,_e()?.defaultScriptOptions),o.trigger&&typeof o.trigger=="object"&&!("then"in o.trigger)&&ve(o.trigger);const a=String(Pe(t)),e=Z();if(o.head=o.head||G(),!o.head)throw new Error("useScript() has been called without Nuxt context.");e.$scripts=e.$scripts||K({}),e.$scripts?.[a];const r=o._validate?.();(o.trigger==="onNuxtReady"||o.trigger==="client")&&(o.warmupStrategy||(o.warmupStrategy="preload"),o.trigger==="onNuxtReady"&&(o.trigger=J));const i=he(t,o),c=i.remove;i.remove=()=>(e.$scripts[a]=void 0,c());const u=i.load;return i.load=async()=>r?Promise.reject(r):u(),e.$scripts[a]=i,i}Object.freeze(Object.assign(()=>{},{__mock__:!0}));function Se(t){return(H().public.scripts||{})[t]}function xe(t,o,a){const e=Se(t),r=Object.assign(a||{},typeof e=="object"?e:{}),i=o(r,{scriptInput:r.scriptInput});let c=i.scriptInput;const u=r.scriptInput?.src,d=i.scriptInput?.src;if(u&&d&&typeof d=="string"&&typeof u=="string"){const s=j(d),h=j(u),n=Y(s.search||""),l=Y(h.search||""),f={...n,...l},y=h.href?.split("?")[0]||u;c={...i.scriptInput||{},src:ee(y,f)}}const p=A(c,r.scriptInput,{key:t}),g=Object.assign(r?.scriptOptions||{},i.scriptOptions||{}),w=g.beforeInit;return g.beforeInit=()=>{w?.(),i.clientInit?.()},ke(p,g)}function Ce(t){let o=Promise.resolve();const a=xe("youtubePlayer",()=>({scriptInput:{src:"https://www.youtube.com/iframe_api",crossorigin:!1},scriptOptions:{use(){return{YT:window.YT||o.then(()=>window.YT)}}},clientInit:()=>{o=new Promise(e=>{window.onYouTubeIframeAPIReady=e})}}),t);{const e=$(a.status,r=>{r==="loading"&&(te({link:[{rel:"preconnect",href:"https://www.youtube-nocookie.com"},{rel:"preconnect",href:"https://www.google.com"},{rel:"preconnect",href:"https://googleads.g.doubleclick.net"},{rel:"preconnect",href:"https://static.doubleclick.net"}]}),e())})}return a}const Te={},$e={class:"sr-only","aria-label":"Loading...",role:"status"};function Ie(t,o){return R(),O("div",$e)}const Ae=Object.assign(re(Te,[["render",Ie],["__scopeId","data-v-e3249305"]]),{__name:"ScriptAriaLoadingIndicator"}),Re={__name:"ScriptYouTubePlayer",props:{placeholderAttrs:{type:Object,required:!1},rootAttrs:{type:Object,required:!1},aboveTheFold:{type:Boolean,required:!1},trigger:{type:[String,Array,Boolean],required:!1,default:"mousedown"},videoId:{type:String,required:!0},playerVars:{type:null,required:!1,default:{autoplay:0,playsinline:1}},width:{type:Number,required:!1,default:640},height:{type:Number,required:!1,default:360},cookies:{type:Boolean,required:!1,default:!1},playerOptions:{type:null,required:!1},thumbnailSize:{type:String,required:!1,default:"hq720"},webp:{type:Boolean,required:!1,default:!0}},emits:["ready","state-change","playback-quality-change","playback-rate-change","error"],setup(t,{expose:o,emit:a}){const e=t,r=a,i=["onReady","onStateChange","onPlaybackQualityChange","onPlaybackRateChange","onError","onApiChange"],c=_(),u=_(),d=_(!1),p=we({trigger:e.trigger,el:c}),g=Ce({scriptOptions:{trigger:p}}),{onLoaded:w,status:s}=g,h=_();let n=!1;e.trigger==="mousedown"&&p instanceof Promise&&p.then(m=>{m&&(n=!0)}),q(()=>{w(async m=>{const S=m.YT instanceof Promise?await m.YT:m.YT;await new Promise(k=>{typeof YT.Player>"u"?S.ready(k):k()}),h.value=new YT.Player(u.value,{host:e.cookies?"https://www.youtube.com":"https://www.youtube-nocookie.com",...e,...e.playerOptions,events:Object.fromEntries(i.map(k=>[k,V=>{const M=k.replace(/([A-Z])/g,"-$1").replace("on-","").toLowerCase();r(M,V),k==="onReady"&&(d.value=!0,n&&(h.value?.playVideo(),n=!1),$(()=>e.videoId,()=>{h.value?.loadVideoById(e.videoId)}))}]))})}),$(s,m=>{m==="error"&&r("error")})}),o({player:h});const l=C(()=>A(e.rootAttrs,{"aria-busy":s.value==="loading","aria-label":s.value==="awaitingLoad"?"YouTube Player - Placeholder":s.value==="loading"?"YouTube Player - Loading":"YouTube Player - Loaded","aria-live":"polite",role:"application",style:{cursor:"pointer",position:"relative",backgroundColor:"black",width:"100%",aspectRatio:`${e.width}/${e.height}`},...p instanceof Promise?p.ssrAttrs||{}:{}})),f=C(()=>`https://i.ytimg.com/vi/${e.videoId}/hqdefault.jpg`),y=C(()=>`https://i.ytimg.com/${e.webp?"vi_webp":"vi"}/${e.videoId}/${e.thumbnailSize}.${e.webp?"webp":"jpg"}`),b=_(!1),P=C(()=>A(e.placeholderAttrs,{src:b.value?f.value:y.value,alt:"",loading:e.aboveTheFold?"eager":"lazy",style:{width:"100%",objectFit:"contain",height:"100%"},onLoad(m){const S=m.target;S.naturalWidth===120&&S.naturalHeight===90&&(b.value=!0)}}));return(m,S)=>(R(),O("div",ne({ref_key:"rootEl",ref:c},l.value),[v("div",{ref_key:"youtubeEl",ref:u,style:{width:"100%",height:"100%",position:"absolute",top:"0",left:"0"}},null,512),d.value?I("",!0):x(m.$slots,"placeholder",{key:0,placeholder:y.value},()=>[v("img",oe(se(P.value)),null,16)]),T(s)==="loading"?x(m.$slots,"loading",{key:1},()=>[B(Ae)]):I("",!0),T(s)==="awaitingLoad"?x(m.$slots,"awaitingLoad",{key:2}):T(s)==="error"?x(m.$slots,"error",{key:3}):I("",!0),x(m.$slots,"default")],16))}},Le=Object.assign(Re,{__name:"ScriptYouTubePlayer"}),Ee={class:"flex items-center justify-center"},Oe=["src"],je={class:"text-center"},Ye="../../img/content/yt-poster.png",qe=ie({__name:"YouTube",props:{id:{},posterUrl:{},time:{}},setup(t){const o=t,a=_(!1),e=_(!1),r=_(new Map),i=C(()=>r.value.get(o.id)),c=p=>{p&&"player"in p&&r.value.set(o.id,p)};async function u(){i.value?.player&&await i.value.player.playVideo()}function d(p){e.value=p.data===1}return(p,g)=>{const w=Le,s=le;return R(),O("div",null,[v("div",Ee,[B(w,{ref:c,"video-id":t.id,"player-vars":{start:t.time},onReady:g[0]||(g[0]=h=>a.value=!0),onStateChange:d},{awaitingLoad:L(()=>[...g[1]||(g[1]=[v("div",{class:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 h-[48px] w-[68px]"},[v("svg",{height:"100%",version:"1.1",viewBox:"0 0 68 48",width:"100%"},[v("path",{d:"M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z",fill:"#f00"}),v("path",{d:"M 45,24 27,14 27,34",fill:"#fff"})])],-1)])]),placeholder:L(()=>[v("img",{src:t.posterUrl||Ye,alt:"Video Placeholder"},null,8,Oe)]),_:1},8,["video-id","player-vars"])]),v("div",je,[T(a)&&!T(e)?(R(),ae(s,{key:0,class:"my-5",onClick:u},{default:L(()=>[...g[2]||(g[2]=[ce(" Play Video ",-1)])]),_:1})):I("",!0)])])}}}),He=Object.assign(qe,{__name:"YouTube"});export{He as default};
